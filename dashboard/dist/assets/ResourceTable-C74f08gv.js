import{r as m,_ as y,R as i,c as g,P as s,j as e,u as W}from"./index-CUZ3IgtU.js";import{v as T,w as I,x as K,j as Y,k as _,l as $,m as q,n as G,b as J,g as Q,d as R,e as E,c as U,f as O,h as X,i as w}from"./DefaultLayout-CkCiLseG.js";import{u as Z,T as V}from"./CAlert-CT9IIZhY.js";import{a as h}from"./index.esm-B2Pq-DPn.js";const F=m.forwardRef((a,t)=>{var{children:l,backdrop:r=!0,className:o,dark:n,keyboard:N=!0,onHide:C,onShow:p,placement:b,portal:j=!1,responsive:x=!0,scroll:u=!1,visible:c=!1}=a,d=y(a,["children","backdrop","className","dark","keyboard","onHide","onShow","placement","portal","responsive","scroll","visible"]);const[f,k]=m.useState(c),P=m.useRef(null),M=Z(t,P);m.useEffect(()=>{k(c)},[c]),m.useEffect(()=>{if(f&&!u){document.body.style.overflow="hidden",document.body.style.paddingRight="0px";return}u||(document.body.style.removeProperty("overflow"),document.body.style.removeProperty("padding-right"))},[f]);const S=()=>{k(!1)},A=()=>{r!=="static"&&k(!1)},z=v=>{if(v.key==="Escape"&&N)return S()};return i.createElement(i.Fragment,null,i.createElement(V,{in:f,nodeRef:P,onEnter:p,onExit:C,timeout:300},v=>i.createElement(T,{portal:j},i.createElement(I,{active:f&&!!r,restoreFocus:!0},i.createElement("div",Object.assign({className:g({[`offcanvas${typeof x=="string"?"-"+x:""}`]:x,[`offcanvas-${b}`]:b,showing:v==="entering",show:v==="entered","show hiding":v==="exiting"},o),role:"dialog",tabIndex:-1,onKeyDown:z},n&&{"data-coreui-theme":"dark"},d,{ref:M}),l)))),r&&i.createElement(T,{portal:j},i.createElement(K,{className:"offcanvas-backdrop",onClick:A,visible:f})))});F.propTypes={backdrop:s.oneOfType([s.bool,s.oneOf(["static"])]),children:s.node,className:s.string,dark:s.bool,keyboard:s.bool,onHide:s.func,onShow:s.func,placement:s.oneOf(["start","end","top","bottom"]).isRequired,portal:s.bool,responsive:s.oneOfType([s.bool,s.oneOf(["sm","md","lg","xl","xxl"])]),scroll:s.bool,visible:s.bool};F.displayName="COffcanvas";const H=m.forwardRef((a,t)=>{var{children:l,className:r}=a,o=y(a,["children","className"]);return i.createElement("div",Object.assign({className:g("offcanvas-body",r)},o,{ref:t}),l)});H.propTypes={children:s.node,className:s.string};H.displayName="COffcanvasBody";const B=m.forwardRef((a,t)=>{var{children:l,className:r}=a,o=y(a,["children","className"]);return i.createElement("div",Object.assign({className:g("offcanvas-header",r)},o,{ref:t}),l)});B.propTypes={children:s.node,className:s.string};B.displayName="COffcanvasHeader";const D=m.forwardRef((a,t)=>{var{children:l,as:r="h5",className:o}=a,n=y(a,["children","as","className"]);return i.createElement(r,Object.assign({className:g("offcanvas-title",o)},n,{ref:t}),l)});D.propTypes={as:s.elementType,children:s.node,className:s.string};D.displayName="COffcanvasTitle";const re=({onAction:a})=>e.jsxs("div",{className:"text-center p-4",children:[e.jsx("p",{children:"No records found."}),e.jsx(h,{color:"primary",onClick:a,children:"Create Your First Record"})]}),ne=({visible:a,onClose:t,onConfirm:l,itemName:r,itemType:o="item"})=>e.jsxs(Y,{visible:a,onClose:t,children:[e.jsx(_,{children:e.jsx($,{children:"Confirm Delete"})}),e.jsxs(q,{children:[e.jsxs("p",{children:["Are you sure you want to delete the ",o,' "',r,'"?']}),e.jsx("p",{className:"text-danger",children:"Warning: This action cannot be undone and all associated data will be permanently deleted."})]}),e.jsxs(G,{children:[e.jsx(h,{color:"secondary",onClick:t,children:"Cancel"}),e.jsx(h,{color:"danger",className:"text-white",onClick:l,children:"Delete"})]})]}),le=({columns:a,data:t,onView:l,onEdit:r,onDelete:o,pagination:n,emptyState:N,resourceType:C,actionButtonLabels:p={view:"View",edit:"Edit",delete:"Delete"}})=>{const{canRead:b,canWrite:j}=W(),x=b(C),u=j(C);return x?e.jsx(e.Fragment,{children:t.length===0?N:e.jsxs(e.Fragment,{children:[e.jsxs(J,{hover:!0,responsive:!0,children:[e.jsx(Q,{children:e.jsxs(R,{children:[a.map((c,d)=>e.jsx(E,{children:c.header},d)),(l||r||o)&&e.jsx(E,{children:"Actions"})]})}),e.jsx(U,{children:t.map(c=>e.jsxs(R,{children:[a.map((d,f)=>e.jsx(O,{children:typeof d.accessor=="function"?d.accessor(c):c[d.accessor]},f)),(l||r||o)&&e.jsxs(O,{children:[l&&e.jsx(h,{color:"info",size:"sm",className:"me-2 text-white",onClick:()=>l(c),children:p.view}),r&&u&&e.jsx(h,{color:"warning",size:"sm",className:"me-2 text-white",onClick:()=>r(c),children:p.edit}),o&&u&&e.jsx(h,{color:"danger",size:"sm",className:"text-white",onClick:()=>o(c),children:p.delete})]})]},c._id||c.id))})]}),n&&n.totalPages>1&&e.jsx("div",{className:"d-flex justify-content-center mt-4",children:e.jsxs(X,{"aria-label":"Page navigation",children:[e.jsx(w,{"aria-label":"Previous",disabled:n.currentPage===1,onClick:()=>n.onPageChange(n.currentPage-1),children:e.jsx("span",{"aria-hidden":"true",children:"«"})}),[...Array(n.totalPages)].map((c,d)=>e.jsx(w,{active:d+1===n.currentPage,onClick:()=>n.onPageChange(d+1),children:d+1},d)),e.jsx(w,{"aria-label":"Next",disabled:n.currentPage===n.totalPages,onClick:()=>n.onPageChange(n.currentPage+1),children:e.jsx("span",{"aria-hidden":"true",children:"»"})})]})})]})}):e.jsx("div",{className:"text-center p-4",children:e.jsx("p",{className:"text-medium-emphasis",children:"You don't have permission to view this resource."})})};export{F as C,re as E,le as R,B as a,D as b,H as c,ne as d};
