import{r as d,j as e,C as R}from"./index-wp0-z5g-.js";import{a as u,f,c as T,d as h,g as o,e as x}from"./index.esm-DPbDpRkl.js";import{a as A,C as F,b as K,c as Q,d as i,e as n,f as t,g as V}from"./DefaultLayout-DdBmS0sh.js";import{C as P,a as D,b as Z}from"./CForm-DR_g0405.js";import{c as $}from"./cil-pencil-m516yCOw.js";import{c as L}from"./cil-trash-CBbKHhHb.js";import{c as W}from"./cil-plus-D8mtC-W5.js";import{b as p}from"./CAlert-D1Sj_uBa.js";import{C as w}from"./CFormTextarea-CxUoDJVg.js";import{C as ee}from"./CInputGroup-BVEkWfqB.js";import"./cil-user-Ddrdy7PS.js";const z=[{value:"facebook",label:"Facebook"},{value:"instagram",label:"Instagram"},{value:"twitter",label:"Twitter / X"},{value:"linkedin",label:"LinkedIn"},{value:"youtube",label:"YouTube"},{value:"tiktok",label:"TikTok"},{value:"whatsapp",label:"WhatsApp"}],me=()=>{const[B,H]=d.useState(!0),[C,v]=d.useState(!1),[S,m]=d.useState(null),[k,b]=d.useState(null),[O,N]=d.useState(!1),[y,_]=d.useState(!1),[r,j]=d.useState({pageTitle:"",pageTitle_ar:"",pageSubtitle:"",pageSubtitle_ar:"",email:"",phone:"",address:"",address_ar:"",workingHours:"",workingHours_ar:"",socialMedia:[]});d.useEffect(()=>{M()},[]);const M=async()=>{var l;H(!0),m(null);try{const s=await A.get("/admin/content/contact-info");if(s!=null&&s.data){const a=s.data;j({pageTitle:a.pageTitle||"",pageTitle_ar:a.pageTitle_ar||"",pageSubtitle:a.pageSubtitle||"",pageSubtitle_ar:a.pageSubtitle_ar||"",email:a.email||"",phone:a.phone||"",address:a.address||"",address_ar:a.address_ar||"",workingHours:a.workingHours||"",workingHours_ar:a.workingHours_ar||"",socialMedia:a.socialMedia||[]}),_(a.pageTitle||a.pageTitle_ar||a.email||a.phone||a.address||a.workingHours||((l=a.socialMedia)==null?void 0:l.length)>0)}}catch(s){m("Failed to load data"),console.error(s)}finally{H(!1)}},c=l=>{const{name:s,value:a}=l.target;j(g=>({...g,[s]:a}))},G=()=>{j(l=>({...l,socialMedia:[...l.socialMedia,{platform:"facebook",url:""}]}))},I=(l,s,a)=>{j(g=>{const E=[...g.socialMedia];return E[l]={...E[l],[s]:a},{...g,socialMedia:E}})},U=l=>{j(s=>({...s,socialMedia:s.socialMedia.filter((a,g)=>g!==l)}))},X=async l=>{l.preventDefault(),v(!0),m(null),b(null);try{const s=await A.put("/admin/content/contact-info",r);s!=null&&s.success?(b("Contact info saved successfully!"),_(!0),N(!1),setTimeout(()=>b(null),3e3)):m((s==null?void 0:s.message)||"Failed to save contact info")}catch(s){m("Failed to save contact info"),console.error(s)}finally{v(!1)}},Y=async()=>{if(window.confirm("Are you sure you want to delete the contact info?")){v(!0),m(null);try{const l=await A.put("/admin/content/contact-info",{pageTitle:"",pageTitle_ar:"",pageSubtitle:"",pageSubtitle_ar:"",email:"",phone:"",address:"",address_ar:"",workingHours:"",workingHours_ar:"",socialMedia:[]});l!=null&&l.success&&(j({pageTitle:"",pageTitle_ar:"",pageSubtitle:"",pageSubtitle_ar:"",email:"",phone:"",address:"",address_ar:"",workingHours:"",workingHours_ar:"",socialMedia:[]}),_(!1),b("Contact info deleted successfully!"),setTimeout(()=>b(null),3e3))}catch(l){m("Failed to delete contact info"),console.error(l)}finally{v(!1)}}},q=()=>{N(!1),M()},J=l=>{var s;return((s=z.find(a=>a.value===l))==null?void 0:s.label)||l};return B?e.jsx("div",{className:"d-flex justify-content-center align-items-center",style:{minHeight:"200px"},children:e.jsx(R,{color:"primary"})}):O?e.jsxs(P,{children:[e.jsx(F,{children:e.jsx("strong",{children:y?"Edit Contact Info":"Add Contact Info"})}),e.jsxs(D,{children:[S&&e.jsx(p,{color:"danger",children:S}),k&&e.jsx(p,{color:"success",children:k}),e.jsxs(Z,{onSubmit:X,children:[e.jsxs(T,{className:"mb-4",children:[e.jsxs(h,{md:6,children:[e.jsx("h5",{children:"English Content"}),e.jsxs("div",{className:"mb-3",children:[e.jsx(o,{children:"Page Title (EN)"}),e.jsx(x,{name:"pageTitle",value:r.pageTitle,onChange:c,placeholder:"Enter English page title"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx(o,{children:"Subtitle (EN)"}),e.jsx(w,{name:"pageSubtitle",value:r.pageSubtitle,onChange:c,placeholder:"Enter English subtitle",rows:3})]})]}),e.jsxs(h,{md:6,children:[e.jsx("h5",{children:"Arabic Content"}),e.jsxs("div",{className:"mb-3",children:[e.jsx(o,{children:"Page Title (AR)"}),e.jsx(x,{name:"pageTitle_ar",value:r.pageTitle_ar,onChange:c,placeholder:"Enter Arabic page title",dir:"rtl"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx(o,{children:"Subtitle (AR)"}),e.jsx(w,{name:"pageSubtitle_ar",value:r.pageSubtitle_ar,onChange:c,placeholder:"Enter Arabic subtitle",rows:3,dir:"rtl"})]})]})]}),e.jsx("hr",{}),e.jsxs(T,{className:"mb-4",children:[e.jsx(h,{md:6,children:e.jsxs("div",{className:"mb-3",children:[e.jsx(o,{children:"Email"}),e.jsx(x,{name:"email",type:"email",value:r.email,onChange:c,placeholder:"Enter email address"})]})}),e.jsx(h,{md:6,children:e.jsxs("div",{className:"mb-3",children:[e.jsx(o,{children:"Phone"}),e.jsx(x,{name:"phone",value:r.phone,onChange:c,placeholder:"Enter phone number"})]})})]}),e.jsxs(T,{className:"mb-4",children:[e.jsx(h,{md:6,children:e.jsxs("div",{className:"mb-3",children:[e.jsx(o,{children:"Address (EN)"}),e.jsx(w,{name:"address",value:r.address,onChange:c,placeholder:"Enter address in English",rows:2})]})}),e.jsx(h,{md:6,children:e.jsxs("div",{className:"mb-3",children:[e.jsx(o,{children:"Address (AR)"}),e.jsx(w,{name:"address_ar",value:r.address_ar,onChange:c,placeholder:"Enter address in Arabic",rows:2,dir:"rtl"})]})})]}),e.jsxs(T,{className:"mb-4",children:[e.jsx(h,{md:6,children:e.jsxs("div",{className:"mb-3",children:[e.jsx(o,{children:"Working Hours (EN)"}),e.jsx(x,{name:"workingHours",value:r.workingHours,onChange:c,placeholder:"e.g., Sun - Thu: 9AM - 5PM"})]})}),e.jsx(h,{md:6,children:e.jsxs("div",{className:"mb-3",children:[e.jsx(o,{children:"Working Hours (AR)"}),e.jsx(x,{name:"workingHours_ar",value:r.workingHours_ar,onChange:c,placeholder:"e.g., الأحد - الخميس: 9 صباحاً - 5 مساءً",dir:"rtl"})]})})]}),e.jsx("hr",{}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[e.jsx("h5",{className:"mb-0",children:"Social Media Links"}),e.jsxs(u,{color:"primary",size:"sm",type:"button",onClick:G,children:[e.jsx(f,{icon:W,className:"me-1"}),"Add Link"]})]}),r.socialMedia.length===0?e.jsx(p,{color:"info",children:"No social media links added yet."}):r.socialMedia.map((l,s)=>e.jsxs(ee,{className:"mb-2",children:[e.jsx(V,{value:l.platform,onChange:a=>I(s,"platform",a.target.value),style:{maxWidth:"150px"},children:z.map(a=>e.jsx("option",{value:a.value,children:a.label},a.value))}),e.jsx(x,{value:l.url,onChange:a=>I(s,"url",a.target.value),placeholder:"Enter URL"}),e.jsx(u,{color:"danger",variant:"outline",type:"button",onClick:()=>U(s),children:e.jsx(f,{icon:L})})]},s))]}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsxs(u,{type:"submit",color:"primary",disabled:C,children:[C?e.jsx(R,{size:"sm",className:"me-2"}):null,"Save"]}),e.jsx(u,{type:"button",color:"secondary",onClick:q,disabled:C,children:"Cancel"})]})]})]})]}):e.jsxs(P,{children:[e.jsxs(F,{className:"d-flex justify-content-between align-items-center",children:[e.jsx("strong",{children:"Contact Info"}),y?e.jsxs("div",{children:[e.jsxs(u,{color:"primary",size:"sm",className:"me-2",onClick:()=>N(!0),children:[e.jsx(f,{icon:$,className:"me-1"}),"Edit"]}),e.jsxs(u,{color:"danger",size:"sm",onClick:Y,disabled:C,children:[e.jsx(f,{icon:L,className:"me-1"}),"Delete"]})]}):e.jsxs(u,{color:"primary",size:"sm",onClick:()=>N(!0),children:[e.jsx(f,{icon:W,className:"me-1"}),"Add Contact Info"]})]}),e.jsxs(D,{children:[S&&e.jsx(p,{color:"danger",children:S}),k&&e.jsx(p,{color:"success",children:k}),y?e.jsx(K,{bordered:!0,children:e.jsxs(Q,{children:[e.jsxs(i,{children:[e.jsx(n,{style:{width:"200px"},children:"Page Title (EN)"}),e.jsx(t,{children:r.pageTitle||"-"})]}),e.jsxs(i,{children:[e.jsx(n,{children:"Page Title (AR)"}),e.jsx(t,{dir:"rtl",children:r.pageTitle_ar||"-"})]}),e.jsxs(i,{children:[e.jsx(n,{children:"Subtitle (EN)"}),e.jsx(t,{children:r.pageSubtitle||"-"})]}),e.jsxs(i,{children:[e.jsx(n,{children:"Subtitle (AR)"}),e.jsx(t,{dir:"rtl",children:r.pageSubtitle_ar||"-"})]}),e.jsxs(i,{children:[e.jsx(n,{children:"Email"}),e.jsx(t,{children:r.email||"-"})]}),e.jsxs(i,{children:[e.jsx(n,{children:"Phone"}),e.jsx(t,{children:r.phone||"-"})]}),e.jsxs(i,{children:[e.jsx(n,{children:"Address (EN)"}),e.jsx(t,{children:r.address||"-"})]}),e.jsxs(i,{children:[e.jsx(n,{children:"Address (AR)"}),e.jsx(t,{dir:"rtl",children:r.address_ar||"-"})]}),e.jsxs(i,{children:[e.jsx(n,{children:"Working Hours (EN)"}),e.jsx(t,{children:r.workingHours||"-"})]}),e.jsxs(i,{children:[e.jsx(n,{children:"Working Hours (AR)"}),e.jsx(t,{dir:"rtl",children:r.workingHours_ar||"-"})]}),e.jsxs(i,{children:[e.jsx(n,{children:"Social Media"}),e.jsx(t,{children:r.socialMedia.length>0?e.jsx("ul",{className:"mb-0",children:r.socialMedia.map((l,s)=>e.jsxs("li",{children:[e.jsxs("strong",{children:[J(l.platform),":"]})," ",l.url]},s))}):"-"})]})]})}):e.jsx(p,{color:"info",children:'No contact info configured yet. Click "Add Contact Info" to create one.'})]})]})};export{me as default};
