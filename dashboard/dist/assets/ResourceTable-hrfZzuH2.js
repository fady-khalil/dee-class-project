import{r as m,_ as N,R as d,a as g,c as k,P as a,j as e,u as X}from"./index-DwGczr7l.js";import{z as S,A as Z,m as $,n as V,o as _,p as L,q as ee,b as se,r as ae,d as A,e as B,c as re,f as z,s as ne,t as O}from"./DefaultLayout-Bhot9-ca.js";import{u as le,T as oe}from"./CAlert-CC772sW4.js";import{a as v}from"./index.esm-B4C_3RAI.js";var W=m.forwardRef(function(s,c){var o=s.children,r=s.backdrop,l=r===void 0?!0:r,n=s.className,u=s.dark,p=s.keyboard,x=p===void 0?!0:p,w=s.onHide,P=s.onShow,y=s.placement,b=s.portal,t=b===void 0?!1:b,i=s.responsive,C=i===void 0?!0:i,H=s.scroll,D=H===void 0?!1:H,F=s.visible,R=F===void 0?!1:F,Y=N(s,["children","backdrop","className","dark","keyboard","onHide","onShow","placement","portal","responsive","scroll","visible"]),M=m.useState(R),j=M[0],T=M[1],E=m.useRef(null),G=le(c,E);m.useEffect(function(){T(R)},[R]),m.useEffect(function(){if(j&&!D){document.body.style.overflow="hidden",document.body.style.paddingRight="0px";return}D||(document.body.style.removeProperty("overflow"),document.body.style.removeProperty("padding-right"))},[j]);var J=function(){T(!1)},Q=function(){l!=="static"&&T(!1)},U=function(f){if(f.key==="Escape"&&x)return J()};return d.createElement(d.Fragment,null,d.createElement(oe,{in:j,nodeRef:E,onEnter:P,onEntered:function(){var f;return(f=E.current)===null||f===void 0?void 0:f.focus()},onExit:w,timeout:300},function(f){var h;return d.createElement(S,{portal:t},d.createElement("div",g({className:k((h={},h["offcanvas".concat(typeof C=="string"?"-"+C:"")]=C,h["offcanvas-".concat(y)]=y,h.showing=f==="entering",h.show=f==="entered",h["show hiding"]=f==="exiting",h),n),role:"dialog",tabIndex:-1,onKeyDown:U},u&&{"data-coreui-theme":"dark"},Y,{ref:G}),o))}),l&&d.createElement(S,{portal:t},d.createElement(Z,{className:"offcanvas-backdrop",onClick:Q,visible:j})))});W.propTypes={backdrop:a.oneOfType([a.bool,a.oneOf(["static"])]),children:a.node,className:a.string,dark:a.bool,keyboard:a.bool,onHide:a.func,onShow:a.func,placement:a.oneOf(["start","end","top","bottom"]).isRequired,portal:a.bool,responsive:a.oneOfType([a.bool,a.oneOf(["sm","md","lg","xl","xxl"])]),scroll:a.bool,visible:a.bool};W.displayName="COffcanvas";var q=m.forwardRef(function(s,c){var o=s.children,r=s.className,l=N(s,["children","className"]);return d.createElement("div",g({className:k("offcanvas-body",r)},l,{ref:c}),o)});q.propTypes={children:a.node,className:a.string};q.displayName="COffcanvasBody";var I=m.forwardRef(function(s,c){var o=s.children,r=s.className,l=N(s,["children","className"]);return d.createElement("div",g({className:k("offcanvas-header",r)},l,{ref:c}),o)});I.propTypes={children:a.node,className:a.string};I.displayName="COffcanvasHeader";var K=m.forwardRef(function(s,c){var o=s.children,r=s.as,l=r===void 0?"h5":r,n=s.className,u=N(s,["children","as","className"]);return d.createElement(l,g({className:k("offcanvas-title",n)},u,{ref:c}),o)});K.propTypes={as:a.elementType,children:a.node,className:a.string};K.displayName="COffcanvasTitle";const fe=({onAction:s})=>e.jsxs("div",{className:"text-center p-4",children:[e.jsx("p",{children:"No records found."}),e.jsx(v,{color:"primary",onClick:s,children:"Create Your First Record"})]}),me=({visible:s,onClose:c,onConfirm:o,itemName:r,itemType:l="item"})=>e.jsxs($,{visible:s,onClose:c,children:[e.jsx(V,{children:e.jsx(_,{children:"Confirm Delete"})}),e.jsxs(L,{children:[e.jsxs("p",{children:["Are you sure you want to delete the ",l,' "',r,'"?']}),e.jsx("p",{className:"text-danger",children:"Warning: This action cannot be undone and all associated data will be permanently deleted."})]}),e.jsxs(ee,{children:[e.jsx(v,{color:"secondary",onClick:c,children:"Cancel"}),e.jsx(v,{color:"danger",className:"text-white",onClick:o,children:"Delete"})]})]}),he=({columns:s,data:c,onView:o,onEdit:r,onDelete:l,pagination:n,emptyState:u,resourceType:p,actionButtonLabels:x={view:"View",edit:"Edit",delete:"Delete"}})=>{const{canRead:w,canWrite:P}=X(),y=w(p),b=P(p);return y?e.jsx(e.Fragment,{children:c.length===0?u:e.jsxs(e.Fragment,{children:[e.jsxs(se,{hover:!0,responsive:!0,children:[e.jsx(ae,{children:e.jsxs(A,{children:[s.map((t,i)=>e.jsx(B,{children:t.header},i)),(o||r||l)&&e.jsx(B,{children:"Actions"})]})}),e.jsx(re,{children:c.map(t=>e.jsxs(A,{children:[s.map((i,C)=>e.jsx(z,{children:typeof i.accessor=="function"?i.accessor(t):t[i.accessor]},C)),(o||r||l)&&e.jsxs(z,{children:[o&&e.jsx(v,{color:"info",size:"sm",className:"me-2 text-white",onClick:()=>o(t),children:x.view}),r&&b&&e.jsx(v,{color:"warning",size:"sm",className:"me-2 text-white",onClick:()=>r(t),children:x.edit}),l&&b&&e.jsx(v,{color:"danger",size:"sm",className:"text-white",onClick:()=>l(t),children:x.delete})]})]},t._id||t.id))})]}),n&&n.totalPages>1&&e.jsx("div",{className:"d-flex justify-content-center mt-4",children:e.jsxs(ne,{"aria-label":"Page navigation",children:[e.jsx(O,{"aria-label":"Previous",disabled:n.currentPage===1,onClick:()=>n.onPageChange(n.currentPage-1),children:e.jsx("span",{"aria-hidden":"true",children:"«"})}),[...Array(n.totalPages)].map((t,i)=>e.jsx(O,{active:i+1===n.currentPage,onClick:()=>n.onPageChange(i+1),children:i+1},i)),e.jsx(O,{"aria-label":"Next",disabled:n.currentPage===n.totalPages,onClick:()=>n.onPageChange(n.currentPage+1),children:e.jsx("span",{"aria-hidden":"true",children:"»"})})]})})]})}):e.jsx("div",{className:"text-center p-4",children:e.jsx("p",{className:"text-medium-emphasis",children:"You don't have permission to view this resource."})})};export{W as C,fe as E,he as R,I as a,K as b,q as c,me as d};
