import{f as Ge,e as Ke,r as o,v as E,j as e,C as O}from"./index-wp0-z5g-.js";import{a as S,v as Qe,w as ue,x as je,y as Xe,z as be,g as fe}from"./DefaultLayout-DdBmS0sh.js";import{e as m,a as p,f as v}from"./index.esm-DPbDpRkl.js";import{C as Ye,a as ea,b as aa}from"./CForm-DR_g0405.js";import{C as z}from"./CFormTextarea-CxUoDJVg.js";import{C as sa}from"./CFormCheck-C5SItxcJ.js";import{c as R}from"./cil-plus-D8mtC-W5.js";import{c as U}from"./cil-check-circle-BlU9eaow.js";import{c as D}from"./cil-trash-CBbKHhHb.js";import"./CAlert-D1Sj_uBa.js";import"./cil-user-Ddrdy7PS.js";var ye=["512 512","<rect width='32' height='176' x='240' y='176' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='32' height='32' x='240' y='384' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><path fill='var(--ci-primary-color, currentColor)' d='M274.014,16H237.986L16,445.174V496H496V445.174ZM464,464H48V452.959L256,50.826,464,452.959Z' class='ci-primary'/>"];const pa=()=>{const J=Ge(),{slug:L}=Ke(),y=!!L,[Ne,Ce]=o.useState([]),[_e,we]=o.useState([]),[c,B]=o.useState({name:"",name_ar:"",description:"",description_ar:"",category:"",instructor:"",price:"",course_type:"single"}),[$,Z]=o.useState(""),[P,G]=o.useState(null),[Se,K]=o.useState(!1),[M,Q]=o.useState(""),[k,X]=o.useState(null),[Ie,Y]=o.useState(!1),[_,N]=o.useState([]),[w,x]=o.useState([]),[T,Le]=o.useState(null),[ee,ae]=o.useState(""),[se,ke]=o.useState(null),[ie,te]=o.useState(""),[re,Ve]=o.useState(null),[le,ce]=o.useState(""),[de,Fe]=o.useState(null),[oe,ne]=o.useState(""),[me,b]=o.useState(""),[n,q]=o.useState({}),[V,he]=o.useState(1),[W,ge]=o.useState(!1);o.useEffect(()=>{Ae(),Ee(),y&&ze()},[y,L]);const Ae=async()=>{var a;try{const i=await S.get("/course-categories"),s=((a=i==null?void 0:i.data)==null?void 0:a.data)||(i==null?void 0:i.data)||[];Ce(Array.isArray(s)?s:[])}catch(i){console.error("Failed to fetch categories:",i)}},Ee=async()=>{try{const a=await S.get("/instructors"),i=(a==null?void 0:a.data)||[];we(Array.isArray(i)?i:[])}catch(a){console.error("Failed to fetch instructors:",a)}},ze=async()=>{var a,i,s,t,r,l,h,g;try{const u=await S.get(`/courses/admin/translations/${L}`),d=u.data.data||u.data;B({name:d.name||"",name_ar:d.name_ar||"",description:d.description||"",description_ar:d.description_ar||"",category:((a=d.category)==null?void 0:a._id)||d.category||"",instructor:((i=d.instructor)==null?void 0:i._id)||d.instructor||"",price:d.price||"",course_type:d.course_type||"single"}),(s=d.image)!=null&&s.data&&ae(`${E}/${d.image.data}`),(t=d.image_ar)!=null&&t.data&&te(`${E}/${d.image_ar.data}`),(r=d.mobileImage)!=null&&r.data&&ce(`${E}/${d.mobileImage.data}`),(l=d.mobileImage_ar)!=null&&l.data&&ne(`${E}/${d.mobileImage_ar.data}`),(h=d.trailer)!=null&&h.videoId&&(Z(d.trailer.videoId),G(d.trailer)),(g=d.video)!=null&&g.videoId&&(Q(d.video.videoId),X(d.video)),d.series&&d.series.length>0&&N(d.series.map(j=>{var C;return{title:j.title||"",title_ar:j.title_ar||"",description:j.description||"",description_ar:j.description_ar||"",videoId:((C=j.video)==null?void 0:C.videoId)||"",video:j.video||null,videoLoading:!1}})),d.chapters&&d.chapters.length>0&&x(d.chapters.map(j=>({title:j.title||"",title_ar:j.title_ar||"",lessons:(j.lessons||[]).map(C=>{var xe;return{title:C.title||"",title_ar:C.title_ar||"",videoId:((xe=C.video)==null?void 0:xe.videoId)||"",video:C.video||null,videoLoading:!1}})})))}catch(u){console.error("Failed to fetch course data:",u),b("Failed to load course data")}},F=async a=>{try{const i=await S.get(`/courses/video/${a}`);if(i.success)return i.data;throw new Error(i.message||"Failed to fetch video details")}catch(i){throw console.error("Error fetching video:",i),new Error(i.message||"Failed to fetch video details")}},De=async()=>{if($.trim()){K(!0);try{const a=await F($.trim());G(a)}catch(a){b(`Failed to fetch trailer: ${a.message}`)}finally{K(!1)}}},$e=async()=>{if(M.trim()){Y(!0);try{const a=await F(M.trim());X(a)}catch(a){b(`Failed to fetch video: ${a.message}`)}finally{Y(!1)}}},Pe=async a=>{const i=_[a];if(i.videoId.trim()){N(s=>s.map((t,r)=>r===a?{...t,videoLoading:!0}:t));try{const s=await F(i.videoId.trim());N(t=>t.map((r,l)=>l===a?{...r,video:s,videoLoading:!1}:r))}catch(s){b(`Failed to fetch video for lesson ${a+1}: ${s.message}`),N(t=>t.map((r,l)=>l===a?{...r,videoLoading:!1}:r))}}},Me=async(a,i)=>{const s=w[a].lessons[i];if(s.videoId.trim()){x(t=>t.map((r,l)=>l===a?{...r,lessons:r.lessons.map((h,g)=>g===i?{...h,videoLoading:!0}:h)}:r));try{const t=await F(s.videoId.trim());x(r=>r.map((l,h)=>h===a?{...l,lessons:l.lessons.map((g,u)=>u===i?{...g,video:t,videoLoading:!1}:g)}:l))}catch(t){b(`Failed to fetch video: ${t.message}`),x(r=>r.map((l,h)=>h===a?{...l,lessons:l.lessons.map((g,u)=>u===i?{...g,videoLoading:!1}:g)}:l))}}},f=a=>{const{name:i,value:s}=a.target;b(""),q({}),B(t=>({...t,[i]:s}))},A=(a,i)=>{const s=a.target.files[0];if(s){const t=URL.createObjectURL(s);switch(i){case"image":Le(s),ae(t);break;case"image_ar":ke(s),te(t);break;case"mobileImage":Ve(s),ce(t);break;case"mobileImage_ar":Fe(s),ne(t);break}}},Te=()=>{N(a=>[...a,{title:"",title_ar:"",description:"",description_ar:"",videoId:"",video:null,videoLoading:!1}])},qe=a=>{N(i=>i.filter((s,t)=>t!==a))},I=(a,i,s)=>{N(t=>t.map((r,l)=>l===a?{...r,[i]:s}:r))},We=()=>{x(a=>[...a,{title:"",title_ar:"",lessons:[]}])},He=a=>{x(i=>i.filter((s,t)=>t!==a))},pe=(a,i,s)=>{x(t=>t.map((r,l)=>l===a?{...r,[i]:s}:r))},Oe=a=>{x(i=>i.map((s,t)=>t===a?{...s,lessons:[...s.lessons,{title:"",title_ar:"",videoId:"",video:null,videoLoading:!1}]}:s))},Re=(a,i)=>{x(s=>s.map((t,r)=>r===a?{...t,lessons:t.lessons.filter((l,h)=>h!==i)}:t))},H=(a,i,s,t)=>{x(r=>r.map((l,h)=>h===a?{...l,lessons:l.lessons.map((g,u)=>u===i?{...g,[s]:t}:g)}:l))},Ue=()=>{var i;const a={};if((i=c.name)!=null&&i.trim()||(a.name="Name is required"),c.category||(a.category="Category is required"),(!c.price||c.price<=0)&&(a.price="Valid price is required"),!y&&!T&&(a.image="Image is required"),c.course_type==="single")k||(a.mainVideo='Main video is required. Click "Save" to fetch video details.');else if(c.course_type==="series")if(_.length===0)a.series="At least one lesson is required";else{const s=_.filter(t=>!t.video);s.length>0&&(a.series=`${s.length} lesson(s) missing video data. Click "Save" to fetch video details.`)}else if(c.course_type==="playlist")if(w.length===0)a.chapters="At least one chapter is required";else{let s=0;w.forEach(t=>{t.lessons.forEach(r=>{r.video||s++})}),s>0&&(a.chapters=`${s} lesson(s) missing video data. Click "Save" to fetch video details.`)}return a},Je=async a=>{var t;a.preventDefault(),b(""),q({});const i=Ue();if(Object.keys(i).length>0){q(i);return}ge(!0);const s=new FormData;s.append("name",c.name.trim()),s.append("name_ar",((t=c.name_ar)==null?void 0:t.trim())||c.name.trim()),s.append("description",c.description||""),s.append("description_ar",c.description_ar||""),s.append("category",c.category),s.append("instructor",c.instructor||""),s.append("price",c.price),s.append("course_type",c.course_type),P&&s.append("trailer",JSON.stringify(P)),c.course_type==="single"&&k?s.append("video",JSON.stringify(k)):c.course_type==="series"?s.append("series",JSON.stringify(_.map(r=>({title:r.title,title_ar:r.title_ar,description:r.description,description_ar:r.description_ar,video:r.video})))):c.course_type==="playlist"&&s.append("chapters",JSON.stringify(w.map(r=>({title:r.title,title_ar:r.title_ar,lessons:r.lessons.map(l=>({title:l.title,title_ar:l.title_ar,video:l.video}))})))),T&&s.append("image",T),se&&s.append("image_ar",se),re&&s.append("mobileImage",re),de&&s.append("mobileImage_ar",de);try{y?await S.putWithFile(`/courses/${L}`,s):await S.postWithFile("/courses",s),J("/courses")}catch(r){console.error("Error submitting form:",r),b(r.message||"An error occurred")}finally{ge(!1)}},Be=()=>{J("/courses")},Ze=({data:a,onRemove:i})=>{var s;return e.jsx("div",{className:"card mt-2",children:e.jsxs("div",{className:"card-body p-2 d-flex align-items-center gap-3",children:[((s=a.assets)==null?void 0:s.thumbnail)&&e.jsx("img",{src:a.assets.thumbnail,alt:"Video thumbnail",style:{width:"80px",height:"45px",objectFit:"cover"},className:"rounded"}),e.jsxs("div",{className:"flex-grow-1",children:[e.jsx("p",{className:"mb-0 small fw-semibold",children:a.title||"Untitled"}),e.jsx("p",{className:"mb-0 small text-muted",children:a.duration?`${Math.floor(a.duration/60)}:${String(a.duration%60).padStart(2,"0")}`:"N/A"})]}),e.jsx(v,{icon:U,className:"text-success",size:"lg"}),i&&e.jsx(p,{color:"danger",size:"sm",variant:"ghost",onClick:i,children:e.jsx(v,{icon:D})})]})})},ve=({videoId:a,setVideoId:i,onSave:s,loading:t,videoData:r,label:l,required:h})=>e.jsxs("div",{className:"mb-3",children:[e.jsxs("label",{className:"form-label",children:[l," ",h&&"*"]}),e.jsxs("div",{className:"input-group",children:[e.jsx(m,{type:"text",value:a,onChange:g=>i(g.target.value),placeholder:"Enter api.video Video ID",disabled:t}),e.jsx(p,{color:"primary",onClick:s,disabled:t||!a.trim(),children:t?e.jsx(O,{size:"sm"}):"Save"})]}),r&&e.jsx(Ze,{data:r,onRemove:()=>{i("")}}),!r&&a&&!t&&e.jsxs("small",{className:"text-warning d-flex align-items-center gap-1 mt-1",children:[e.jsx(v,{icon:ye,size:"sm"}),'Click "Save" to fetch video details']})]});return e.jsx(Ye,{children:e.jsxs(ea,{children:[e.jsx("div",{className:"d-flex justify-content-between align-items-center mb-4",children:e.jsx("h4",{children:y?"Edit Course":"Add New Course"})}),me&&e.jsx("div",{className:"alert alert-danger mb-3",children:me}),e.jsxs(aa,{onSubmit:Je,children:[e.jsxs(Qe,{variant:"tabs",role:"tablist",children:[e.jsx(ue,{children:e.jsx(je,{active:V===1,onClick:()=>he(1),role:"tab",children:"English"})}),e.jsx(ue,{children:e.jsx(je,{active:V===2,onClick:()=>he(2),role:"tab",children:"Arabic"})})]}),e.jsxs(Xe,{className:"p-3 border border-top-0 rounded-bottom mb-4",children:[e.jsx(be,{visible:V===1,role:"tabpanel",children:e.jsxs("div",{className:"row g-3",children:[e.jsxs("div",{className:"col-12",children:[e.jsx("label",{className:"form-label",children:"Name (English) *"}),e.jsx(m,{type:"text",name:"name",value:c.name,onChange:f,invalid:!!n.name,required:!0}),n.name&&e.jsx("div",{className:"invalid-feedback d-block",children:n.name})]}),e.jsxs("div",{className:"col-12",children:[e.jsx("label",{className:"form-label",children:"Description (English)"}),e.jsx(z,{name:"description",value:c.description,onChange:f,rows:4})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsxs("label",{className:"form-label",children:["Image (English) ",!y&&"*"]}),e.jsx(m,{type:"file",onChange:a=>A(a,"image"),accept:"image/*",invalid:!!n.image}),n.image&&e.jsx("div",{className:"invalid-feedback d-block",children:n.image}),ee&&e.jsx("div",{className:"mt-2",children:e.jsx("img",{src:ee,alt:"Preview",style:{maxWidth:"200px",maxHeight:"150px"},className:"img-thumbnail"})})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"form-label",children:"Mobile Image (English)"}),e.jsx(m,{type:"file",onChange:a=>A(a,"mobileImage"),accept:"image/*"}),le&&e.jsx("div",{className:"mt-2",children:e.jsx("img",{src:le,alt:"Preview",style:{maxWidth:"150px",maxHeight:"150px"},className:"img-thumbnail"})})]})]})}),e.jsx(be,{visible:V===2,role:"tabpanel",children:e.jsxs("div",{className:"row g-3",children:[e.jsxs("div",{className:"col-12",children:[e.jsx("label",{className:"form-label",children:"Name (Arabic)"}),e.jsx(m,{type:"text",name:"name_ar",value:c.name_ar,onChange:f,dir:"rtl"})]}),e.jsxs("div",{className:"col-12",children:[e.jsx("label",{className:"form-label",children:"Description (Arabic)"}),e.jsx(z,{name:"description_ar",value:c.description_ar,onChange:f,rows:4,dir:"rtl"})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"form-label",children:"Image (Arabic)"}),e.jsx(m,{type:"file",onChange:a=>A(a,"image_ar"),accept:"image/*"}),ie&&e.jsx("div",{className:"mt-2",children:e.jsx("img",{src:ie,alt:"Preview",style:{maxWidth:"200px",maxHeight:"150px"},className:"img-thumbnail"})})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"form-label",children:"Mobile Image (Arabic)"}),e.jsx(m,{type:"file",onChange:a=>A(a,"mobileImage_ar"),accept:"image/*"}),oe&&e.jsx("div",{className:"mt-2",children:e.jsx("img",{src:oe,alt:"Preview",style:{maxWidth:"150px",maxHeight:"150px"},className:"img-thumbnail"})})]})]})})]}),e.jsxs("div",{className:"row g-3 mb-4",children:[e.jsxs("div",{className:"col-md-3",children:[e.jsx("label",{className:"form-label",children:"Category *"}),e.jsxs(fe,{name:"category",value:c.category,onChange:f,invalid:!!n.category,required:!0,children:[e.jsx("option",{value:"",children:"Select category"}),Ne.map(a=>{var i,s;return e.jsx("option",{value:a._id,children:((s=(i=a.translations)==null?void 0:i.en)==null?void 0:s.title)||a.title||"Unnamed"},a._id)})]}),n.category&&e.jsx("div",{className:"invalid-feedback d-block",children:n.category})]}),e.jsxs("div",{className:"col-md-3",children:[e.jsx("label",{className:"form-label",children:"Instructor"}),e.jsxs(fe,{name:"instructor",value:c.instructor,onChange:f,children:[e.jsx("option",{value:"",children:"Select instructor"}),_e.map(a=>e.jsx("option",{value:a._id,children:a.name},a._id))]})]}),e.jsxs("div",{className:"col-md-2",children:[e.jsx("label",{className:"form-label",children:"Price *"}),e.jsx(m,{type:"number",name:"price",value:c.price,onChange:f,invalid:!!n.price,required:!0,min:"0",step:"0.01"}),n.price&&e.jsx("div",{className:"invalid-feedback d-block",children:n.price})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsx("label",{className:"form-label",children:"Course Type *"}),e.jsx("div",{className:"d-flex gap-3 mt-2",children:[{value:"single",label:"Single Video"},{value:"series",label:"Series"},{value:"playlist",label:"Playlist"}].map(a=>e.jsx(sa,{type:"radio",name:"course_type",id:`course_type_${a.value}`,label:a.label,value:a.value,checked:c.course_type===a.value,onChange:f},a.value))})]})]}),e.jsxs("div",{className:"card mb-4",children:[e.jsx("div",{className:"card-header bg-secondary text-white",children:"Trailer Video (Optional)"}),e.jsx("div",{className:"card-body",children:e.jsx(ve,{videoId:$,setVideoId:Z,onSave:De,loading:Se,videoData:P,label:"Trailer Video ID",required:!1})})]}),c.course_type==="single"&&e.jsxs("div",{className:"card mb-4",children:[e.jsx("div",{className:"card-header",children:"Main Course Video"}),e.jsxs("div",{className:"card-body",children:[e.jsx(ve,{videoId:M,setVideoId:Q,onSave:$e,loading:Ie,videoData:k,label:"Main Video ID",required:!0}),n.mainVideo&&e.jsx("div",{className:"text-danger small",children:n.mainVideo})]})]}),c.course_type==="series"&&e.jsxs("div",{className:"card mb-4",children:[e.jsxs("div",{className:"card-header bg-primary text-white d-flex justify-content-between align-items-center",children:[e.jsx("span",{children:"Series Lessons"}),e.jsxs(p,{color:"light",size:"sm",onClick:Te,children:[e.jsx(v,{icon:R,className:"me-1"})," Add Lesson"]})]}),e.jsxs("div",{className:"card-body",children:[n.series&&e.jsx("div",{className:"alert alert-danger",children:n.series}),_.length===0?e.jsx("p",{className:"text-muted text-center py-4",children:'No lessons added. Click "Add Lesson" to start.'}):e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-bordered align-middle mb-0",children:[e.jsx("thead",{className:"table-light",children:e.jsxs("tr",{children:[e.jsx("th",{style:{width:"40px"},children:"#"}),e.jsx("th",{children:"Title (EN / AR)"}),e.jsx("th",{children:"Description (EN / AR)"}),e.jsx("th",{style:{width:"280px"},children:"Video"}),e.jsx("th",{style:{width:"50px"}})]})}),e.jsx("tbody",{children:_.map((a,i)=>e.jsxs("tr",{children:[e.jsx("td",{className:"text-center fw-semibold",children:i+1}),e.jsxs("td",{children:[e.jsx(m,{size:"sm",value:a.title,onChange:s=>I(i,"title",s.target.value),placeholder:"English title",className:"mb-1"}),e.jsx(m,{size:"sm",value:a.title_ar,onChange:s=>I(i,"title_ar",s.target.value),placeholder:"العنوان بالعربية",dir:"rtl"})]}),e.jsxs("td",{children:[e.jsx(z,{size:"sm",value:a.description,onChange:s=>I(i,"description",s.target.value),placeholder:"English description",rows:1,className:"mb-1"}),e.jsx(z,{size:"sm",value:a.description_ar,onChange:s=>I(i,"description_ar",s.target.value),placeholder:"الوصف بالعربية",rows:1,dir:"rtl"})]}),e.jsxs("td",{children:[e.jsxs("div",{className:"input-group input-group-sm mb-1",children:[e.jsx(m,{value:a.videoId,onChange:s=>I(i,"videoId",s.target.value),placeholder:"Video ID",disabled:a.videoLoading}),e.jsx(p,{color:"primary",onClick:()=>Pe(i),disabled:a.videoLoading||!a.videoId.trim(),children:a.videoLoading?e.jsx(O,{size:"sm"}):"Fetch"})]}),a.video?e.jsxs("div",{className:"d-flex align-items-center gap-1",children:[e.jsx(v,{icon:U,className:"text-success",size:"sm"}),e.jsx("small",{className:"text-success",children:a.video.title||"Video loaded"})]}):a.videoId&&!a.videoLoading?e.jsxs("small",{className:"text-warning",children:[e.jsx(v,{icon:ye,size:"sm"})," Click Fetch"]}):null]}),e.jsx("td",{className:"text-center",children:e.jsx(p,{color:"danger",size:"sm",variant:"ghost",onClick:()=>qe(i),children:e.jsx(v,{icon:D})})})]},i))})]})})]})]}),c.course_type==="playlist"&&e.jsxs("div",{className:"card mb-4",children:[e.jsxs("div",{className:"card-header bg-primary text-white d-flex justify-content-between align-items-center",children:[e.jsx("span",{children:"Chapters"}),e.jsxs(p,{color:"light",size:"sm",onClick:We,children:[e.jsx(v,{icon:R,className:"me-1"})," Add Chapter"]})]}),e.jsxs("div",{className:"card-body",children:[n.chapters&&e.jsx("div",{className:"alert alert-danger",children:n.chapters}),w.length===0?e.jsx("p",{className:"text-muted text-center py-4",children:'No chapters added. Click "Add Chapter" to start.'}):w.map((a,i)=>e.jsxs("div",{className:"card mb-3 border-primary",children:[e.jsxs("div",{className:"card-header d-flex justify-content-between align-items-center py-2 bg-light border-primary",children:[e.jsxs("div",{className:"d-flex align-items-center gap-3 flex-grow-1",children:[e.jsxs("span",{className:"fw-bold text-primary",children:["Chapter ",i+1]}),e.jsx(m,{size:"sm",value:a.title,onChange:s=>pe(i,"title",s.target.value),placeholder:"Title (English)",className:"w-auto",style:{minWidth:"150px"}}),e.jsx(m,{size:"sm",value:a.title_ar,onChange:s=>pe(i,"title_ar",s.target.value),placeholder:"العنوان بالعربية",dir:"rtl",className:"w-auto",style:{minWidth:"150px"}})]}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsxs(p,{color:"success",size:"sm",variant:"outline",onClick:()=>Oe(i),children:[e.jsx(v,{icon:R,size:"sm"})," Lesson"]}),e.jsx(p,{color:"danger",size:"sm",variant:"ghost",onClick:()=>He(i),children:e.jsx(v,{icon:D})})]})]}),e.jsx("div",{className:"card-body p-2",children:a.lessons.length===0?e.jsx("p",{className:"text-muted small text-center py-2 mb-0",children:'No lessons. Click "+ Lesson" to add.'}):e.jsxs("table",{className:"table table-sm table-bordered align-middle mb-0",children:[e.jsx("thead",{className:"table-light",children:e.jsxs("tr",{children:[e.jsx("th",{style:{width:"30px"},children:"#"}),e.jsx("th",{children:"Title (EN)"}),e.jsx("th",{children:"Title (AR)"}),e.jsx("th",{style:{width:"250px"},children:"Video"}),e.jsx("th",{style:{width:"40px"}})]})}),e.jsx("tbody",{children:a.lessons.map((s,t)=>e.jsxs("tr",{children:[e.jsx("td",{className:"text-center small",children:t+1}),e.jsx("td",{children:e.jsx(m,{size:"sm",value:s.title,onChange:r=>H(i,t,"title",r.target.value),placeholder:"English title"})}),e.jsx("td",{children:e.jsx(m,{size:"sm",value:s.title_ar,onChange:r=>H(i,t,"title_ar",r.target.value),placeholder:"العنوان بالعربية",dir:"rtl"})}),e.jsxs("td",{children:[e.jsxs("div",{className:"input-group input-group-sm",children:[e.jsx(m,{value:s.videoId,onChange:r=>H(i,t,"videoId",r.target.value),placeholder:"Video ID",disabled:s.videoLoading}),e.jsx(p,{color:"primary",onClick:()=>Me(i,t),disabled:s.videoLoading||!s.videoId.trim(),children:s.videoLoading?e.jsx(O,{size:"sm"}):"Fetch"})]}),s.video&&e.jsxs("small",{className:"text-success d-flex align-items-center gap-1 mt-1",children:[e.jsx(v,{icon:U,size:"sm"})," ",s.video.title||"Loaded"]})]}),e.jsx("td",{className:"text-center",children:e.jsx(p,{color:"danger",size:"sm",variant:"ghost",onClick:()=>Re(i,t),children:e.jsx(v,{icon:D,size:"sm"})})})]},t))})]})})]},i))]})]}),e.jsxs("div",{className:"d-flex justify-content-end gap-2 mt-4",children:[e.jsx(p,{color:"secondary",onClick:Be,disabled:W,children:"Cancel"}),e.jsx(p,{color:"primary",type:"submit",disabled:W,children:W?"Saving...":y?"Update":"Save"})]})]})]})})};export{pa as default};
